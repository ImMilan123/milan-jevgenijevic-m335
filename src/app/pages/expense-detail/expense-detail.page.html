<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/expenses"></ion-back-button>
    </ion-buttons>
    <ion-title>
      <span (click)="goHome()" style="cursor: pointer; user-select: none;">ðŸ’° BudgetBuddy</span>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="detail-container" *ngIf="expense">
    <!-- Expense Info Card -->
    <ion-card>
      <ion-card-header>
        <ion-card-title>{{ expense.title }}</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <div class="amount-display">
          <h1 class="currency">CHF {{ expense.amount.toFixed(2) }}</h1>
        </div>

        <ion-item lines="none">
          <ion-icon name="calendar" slot="start"></ion-icon>
          <ion-label>
            <p>Date</p>
            <h3>{{ expense.date | date:'dd.MM.yyyy' }}</h3>
          </ion-label>
        </ion-item>

        <ion-item lines="none">
          <ion-icon name="pricetag" slot="start"></ion-icon>
          <ion-label>
            <p>Category</p>
            <h3>{{ expense.category }}</h3>
          </ion-label>
        </ion-item>
      </ion-card-content>
    </ion-card>

    <!-- Receipt Image -->
    <ion-card *ngIf="expense.receipt_url">
      <ion-card-header>
        <ion-card-title>
          <ion-icon name="receipt"></ion-icon>
          Receipt
        </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <img [src]="expense.receipt_url" alt="Receipt" class="receipt-image">
      </ion-card-content>
    </ion-card>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <ion-button expand="block" (click)="editExpense()" color="primary">
        <ion-icon name="create" slot="start"></ion-icon>
        Edit Expense
      </ion-button>
      <ion-button expand="block" (click)="deleteExpense()" color="danger" fill="outline">
        <ion-icon name="trash" slot="start"></ion-icon>
        Delete Expense
      </ion-button>
    </div>
  </div>

  <!-- Loading State -->
  <div class="empty-state" *ngIf="!expense">
    <p>Loading expense details...</p>
  </div>
</ion-content>

